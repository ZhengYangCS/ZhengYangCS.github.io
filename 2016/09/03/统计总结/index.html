<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="zhengyang_cs@outlook.com">
    <meta name="keyword"  content="">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
          统计总结 - ZhengYang&#39;s Blog
        
    </title>

    <link rel="canonical" href="/2016/09/03/统计总结/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/hux-blog.min.css">

    <!-- Pygments Highlight CSS -->
    <link rel="stylesheet" href="/css/highlight.css">

    <!-- Custom Fonts -->
    <!-- <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Hux change font-awesome CDN to qiniu -->
    <link href="http://cdn.staticfile.org/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">


    <!-- Hux Delete, sad but pending in China
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/
    css'>
    -->


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">

    <!-- hexo-inject:begin --><!-- hexo-inject:end --><!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">ZhengYang&#39;s Blog</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <!-- Known Issue, found by Hux:
            <nav>'s height woule be hold on by its content.
            so, when navbar scale out, the <nav> will cover tags.
            also mask any touch event of tags, unfortunately.
        -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>

                    

                        
                    

                        
                        <li>
                            <a href="/about/">About</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/archives/">Archives</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/tags/">Tags</a>
                        </li>
                        
                    
                    
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        // CLOSE
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        // OPEN
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>


    <!-- Main Content -->
    
<!-- Image to hack wechat -->
<!-- <img src="/img/icon_wechat.png" width="0" height="0"> -->
<!-- <img src="{{ site.baseurl }}/{% if page.header-img %}{{ page.header-img }}{% else %}{{ site.header-img }}{% endif %}" width="0" height="0"> -->

<!-- Post Header -->
<style type="text/css">
    header.intro-header{
        background-image: url('/img/line1.jpg')
    }
</style>
<header class="intro-header" >
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                          <a class="tag" href="/tags/#统计" title="统计">统计</a>
                        
                    </div>
                    <h1>统计总结</h1>
                    <h2 class="subheading"></h2>
                    <span class="meta">
                        Posted by ZhengYang on
                        2016-09-03
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

    <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                <h2 id="统计基本概念"><a href="#统计基本概念" class="headerlink" title="统计基本概念"></a>统计基本概念</h2><p><strong>随机性中的规律性</strong>：抛硬币100次，每次正反面是随机的，但总有50次左右为正，另50次左右为反。<br><strong>规律性中的随机性</strong>：抛银币100次，第一个100次，可能48次为正，第二次可能51次为正。<br><strong>变量</strong>：是一个属性，可以取两个或者更多的值。<br><strong>常量</strong>：也可以算是一个属性，但是只能取一个值。<br><strong>经验变量</strong>：可观测到的事物。<br><strong>理论变量</strong>：数学推导出来的变量。$T,\chi^2,F$变量。</p>
<p><strong>对象</strong>：需要调查的事物，比如一个人。<br><strong>个体</strong>：从一个调查对象中得出的数据。比如一个人的身高。<br><strong>总体</strong>：包含全部需要研究的个体。<br><strong>普查</strong>：收集总体中全部个体的数据。<br><strong>样本</strong>：是总体的一个被选中的部分。<br><strong>样本量</strong>：样本中包含个体的数量。<br><strong>随机样本</strong>：样本中的每一个个体都是被等机会的选中的。<br><strong>方便样本</strong>：能够很容易很经济地得到的样本。</p>
<p><strong>抽样误差</strong>：从样本得出的结论 不一定完全等同 从总体得出的结论。<br><strong>未响应误差</strong>：抽样调查中，一部分人未回应调查，所造成的误差。 对缺失值的处理所造成的误差。<br><strong>响应误差</strong>：抽样调查中，一部分人因为各种原因，并没有真实反映他们的观点。</p>
<p><strong>分类变量（categorical variable）</strong>：任两个观测值或相同，或不同。观测值之间无大小比较，不能排序。<br>一个分类变量作图：饼图，条形图。<br>两个分类变量作图：条形多。</p>
<p><strong>度量变量（metric variable）</strong>：两个观测值之间的差距，可以度量。观测值可按度量单位排序。<br>一个度量变量作图：点线图，盒图，茎叶图，直方图。<br>两个分类变量作图：散点图，时间序列图。</p>
<p><strong><em>如果精确的数字更重要，用表；</em></strong><br><strong><em>如果直观的印象更重要，用图。</em></strong></p>
<p><strong>平均数</strong>：众数（mode），中位数（median），均值（mean）。单位全是观测值的单位。<br><strong>变差</strong>：极差（range），标准差（standard deviation），方差（variance）。只有极差和标准差的单位是观测值的单位。方差的单位是观测值单位的平方，不好解释。</p>
<p><strong>标准差（standard deviation）</strong>：到均值的一种平均距离。单位是观测值的单位。分母为观测值个数-1。<br><strong>离差</strong>：变量值-均值。也称为偏差。<br><strong>绝对离差均值</strong>：离差的绝对值/观测值个数。分母不用-1。</p>
<p><strong>标准误差（standard error）</strong>：很多个不同样本的均值的标准差。计算时可以用s/sqrt(n)，s为单个样本的标准差，n为单个样本的样本量<br><strong>标准差和标准误差的最大区别</strong>：标准差是一个样本中计算的，标准误差时多个样本计算的。</p>
<p><strong>标准得分（standard scores）</strong>：观测值减均值，除以标准差。任何变量的标准得分的值大部分在-2.00到2.00之间。标准得分常称为t-值。</p>
<p><strong>每个样本都可以算一个样本的标准差，也可以算一个样本均值的标准误差，用以估计样本均值的标准差。</strong><br>样本均值的标准误差 是对 多个样本均值的标准差的 估计。<br>样本量越大，多个样本均值之间的差距就越小，样本均值的标准误差越小。<br><img src="http://oavdwoegd.bkt.clouddn.com/stderror.png" alt=""></p>
<h2 id="概率分布"><a href="#概率分布" class="headerlink" title="概率分布"></a>概率分布</h2><p>发生比：又称几率。表示事件发生和不发生的比率，$\frac{p}{1-p}$，logistic回归就用到了几率。</p>
<p>在离散分布中，$p(x)$表示随机变量X在取x值时的概率，等同于写法 $P(X=x)$<br>在连续分布中，$f(x)$表示随机变量的概率密度小于x的积分，等同于写法$P(X \leqslant x)$。单点的概率为0，所以对于连续分布，$P(X \leqslant x)=P(X &lt; x)$</p>
<h3 id="离散变量的概率分布"><a href="#离散变量的概率分布" class="headerlink" title="离散变量的概率分布"></a>离散变量的概率分布</h3><p><strong>伯努利分布</strong>：又叫0-1分布。1次实验，出现的概率。<br>$$p(k|p)=p^k(1-p)^{1-k}$$<br>其中，$k \in \{0,1\}$</p>
<p><strong>二项分布</strong>：是有限总体的放回抽样。n个实验中，出现m次数的概率。每次实验的取值只能是二值选一的。如果样本个数与原始概率的乘积大于5时，可以使用二项分布的正态近似。<br>$$p(m|n,p)={n\choose k}p^k(1-p)^{n-k}=\frac{n!}{k!(n-k)!}p^k(1-p)^{n-k}$$</p>
<p><strong>Beta分布</strong>：二项分布的共轭先验。<br>$$p(p|\alpha,\beta)=\frac{\Gamma(\alpha+\beta)}{\Gamma(\alpha)\Gamma(\beta)}p^{\alpha-1}(1-p)^{\beta-1}$$<br>$\Gamma(t)=\int_0^{\infty}x^{t-1}e^{-x}dx$<br>$\Gamma(n)=(n-1)!$</p>
<p><strong>多项式分布</strong>：每次实验有K种可能的结果，一共有N次实验。概率质量函数为<br>$$p(m_1,…,m_K|N,p_1,…,p_K)=\frac{N!}{m_1!…m_K!}p_1^{m_1}…p_K^{m_K}$$<br>其中，$\sum_{k=1}^Km_k=N$，<br>$m_k$表示第k个事件发生的次数<br>另外，多项式分布也可以用gamma function表示，<br>$$p(m_1,…,m_K|N,p_1,…,p_K)=\frac{\Gamma(\sum_{k=1}^Km_k+1)}{\prod_{k=1}^K\Gamma(m_k+1)}\prod_{k=1}^Kp_k^{m_k}$$</p>
<p><strong>Dirichlet分布</strong>：多项分布的共轭先验。<br>$$p(p_1,…,p_K|\alpha_1,…,\alpha_K)=\frac{\Gamma(\sum_{k=1}^K\alpha_k)}{\prod_{k=1}^K\Gamma(\alpha_k)}\prod_{k=1}^Kp_k^{\alpha_k-1}$$<br>其中，$0\leqslant p_k \leqslant 1$<br>$\sum_{k=1}^Kp_k=1$</p>
<p><strong>Poisson分布</strong>：某种事件在一定期间内出现次数的概率。比如一定时间内顾客的人数。<br>$$p(k)=e^{-\lambda}\frac{\lambda^k}{k!}$$</p>
<p><strong>几何分布</strong>：在伯努利试验中，得到一次成功所需要的试验次数X。X的值域是{ 1, 2, 3, … }<br>$$p(k|p)=(1-p)^{k-1}p$$</p>
<p><strong>超几何分布</strong>：即有限总体无放回抽样。样本量为N，其中M个是及格的。超几何分布描述了在该样本中抽出n个，其中k个是及格的概率。<br>$$p(k|N,M,n)=\frac{\binom{M}{k}\binom{N-M}{n-k}}{\binom{N}{n}}$$<br>从M个及格中抽取k个，从N-M个不及格中抽取n-k个，构成分子<br>从N个总体中抽取n个，构成分母</p>
<h3 id="连续变量的概率分布"><a href="#连续变量的概率分布" class="headerlink" title="连续变量的概率分布"></a>连续变量的概率分布</h3><p><strong>均匀分布</strong>：<br>$$f(x|a,b)=\frac{1}{b-a}$$</p>
<p><strong>正态分布</strong>：又称高斯分布。<br>$$f(x|\mu,\sigma^2)=\frac{1}{(2\pi)^{1/2}\sigma}exp\left\{-\frac1{2\sigma^2}(x-\mu)^2\right\}$$<br>$$f(\mathbf x|\boldsymbol{\mu,\Sigma})=\frac{1}{(2\pi)^{D/2}}\frac{1}{|\boldsymbol\Sigma|^{1/2}}exp\left\{-\frac12(\mathbf x-\boldsymbol\mu)^T\boldsymbol \Sigma^{-1}(\mathbf x-\boldsymbol\mu)\right\}$$<br><strong><em>Z检验</em></strong>：用于大样本（即样本容量大于30）平均值差异性检验的方法。用标准正态分布的理论来推断差异发生的概率，从而比较两个平均数的差异是否显著。当已知总体标准差时，验证一组数的均值是否与某一期望值相等时，用z检验。</p>
<p><strong><em>自由度：信息量大小的一个度量。等于样本量减1。</em></strong></p>
<p><strong>t-分布</strong>：当自由度n-1越大时，t-分布越接近正态分布；当自由度n越小时，t-分布的中部较低，两侧收敛较慢，高于正态分布。t-分布是一族分布，每一个自由度，对应一个分布。</p>
<p><strong><em>t-分布是对 两个样本均值差异 进行显著性测试时用的。t检验改进了z检验，因为z检验假定母体标准差已知为前提。</em></strong></p>
<p><strong><em>z检验和t检验的差异，就在于总体标准差是否已知。</em></strong></p>
<p><strong>$\chi^2$分布</strong>：n个独立标准正态变量的平方和，称为n个自由度的$\chi^2$-分布<br>卡方检验：用于”适配度检验”和”独立性检验”。建立零假说（Null Hypothesis），即认为观测值与理论值的差异是由于随机误差所致，可以简单的理解为不存在差异；$\chi^2$分布也是一族分布，而不是一个。</p>
<p><strong>F分布</strong>：为纪念英国统计学家Ronald Fisher。是两个独立$\chi^2$-分布变量的比，具有两个自由度。</p>
<h2 id="统计推断-估计-假设检验"><a href="#统计推断-估计-假设检验" class="headerlink" title="统计推断 (估计 假设检验)"></a>统计推断 (估计 假设检验)</h2><p><strong>统计推断</strong>，是一个过程，它能从样本数据得出与总体参数值有关的结论。它由两部分构成，估计和假设检验。<br><strong>统计量（statistic）</strong> 是statistics的单数形式。<br>样本统计量是从样本中计算出来的。最平常的样本统计量是样本均值$\overline X$，样本百分比P、样本标准差S。<br>总体参数是在原理上，可以从整个总体中计算出来的，一般用希腊字母表示。总体均值小写μ，总体百分比大写Π，总体标准差小写σ。</p>
<h3 id="点估计"><a href="#点估计" class="headerlink" title="点估计"></a>点估计</h3><p>点估计是一个用来估计总体参数的数。例如，样本均值也可以作为总体均值的点估计。可以用矩估计，也可以用最大似然估计。</p>
<p>一个好的点估计的标准：</p>
<ul>
<li>如果大量的样本统计量的均值等于总体参数的真值，则这种样本统计量是该参数的无偏估计。</li>
<li>许多重复抽样所得的估计值不应离真值太远。</li>
</ul>
<p>二战时，盟军估计德军坦克，估计总量的例子。</p>
<ul>
<li>方法一，计算被缴获的坦克的平均值，然后乘2作为总数的一个点估计，该方法假设缴获的坦克是一个随机的样本，没有考虑缴获坦克的数量的影响；</li>
<li>方法二，用观测到的最大编号乘以因子1+1/n，n为缴获的坦克数量，该方法假设总数略大于缴获坦克的最大编号数。</li>
</ul>
<h3 id="区间估计"><a href="#区间估计" class="headerlink" title="区间估计"></a>区间估计</h3><p><strong>区间估计又称置信区间（confidence interval），是用来估计参数的取值范围的。</strong></p>
<ol>
<li>找一个样本统计量，如均值或比例值</li>
<li>从数据中计算抽样误差</li>
<li>用统计量加减抽样误差，得到估计区间的两个端点。</li>
<li>如果用类似的方式，重复抽取大量样本量相同的样本，会产生大量的置信区间，而这些区间中，有些包含真值p，有些不包含真值p，但其中有95%包含真值p。</li>
</ol>
<p><strong>CAUTION！！！</strong></p>
<ul>
<li>不能说52到58的这个置信区间以0.95的概率包含真值，而只能说，如果你做了100次抽样，大概有95次得到的置信区间包含真值，有5次不包含真值。</li>
<li>直观的说，假设真值是57，则置信区间52到58一定包含真值，而不是以95%的概率包含真值。同样如果假设真实是57，则真心区间50到56就一定不包含真值，而不是以95%的概率不包含真值。</li>
<li>这个概率不是用来描述某个特定区间包含未知真值的可能性，一个特定的区间总是包含或者绝不包含真值，不存在一会包含，一会不包含。用置信水平可以知道在多次抽样得到的区间中，大概有多少个区间包含真值。</li>
<li>一个区间就像一个为了捕获未知参数真值而撒出的网，不是所有撒出的网都能捕获参数的真值。</li>
</ul>
<p><strong>置信区间的长度</strong></p>
<ul>
<li>样本中的观测值个数影响着置信区间的长度。大的样本产生较短的置信区间，小的样本产生较长的置信区间。</li>
<li>置信区间的长度还受置信水平的影响。低的置信水平（如90%）产生较短的区间，高的置信水平（99%）产生较长的区间。</li>
</ul>
<h3 id="假设检验"><a href="#假设检验" class="headerlink" title="假设检验"></a>假设检验</h3><p><strong>估计的主要任务</strong> 是找参数值等于几，或在哪个区间；<br><strong>假设检验的兴趣</strong> 主要是看看输入的值是否等于某个特别感兴趣的值。</p>
<p>假设检验：<br>第一，对我们要研究的事物做出某种假设$\mu_0$；<br>第二，收集数据$\overline X$，并在假设的基础上得到该数据的概率；<br>第三，如果这个概率$\alpha$非常小（如小于0.05），则认为一开始的假设是错误的。</p>
<p>p-值：在有关总体的某些假设下，观察值或者更极端值出现的概率。</p>
<p><strong>零假设</strong>：提出一个总体的参数$\mu$是否等于某个特殊值$\mu_0$，或两个总体的参数之差是否为0。零假设总是一个与总体参数有关的问题，所以总包含希腊字母。<br><strong>备择假设</strong>：零假设的反面假设。<br><strong>第一类错误（α错误）</strong>：拒绝 正确的零假设。<br><strong>第二类错误（β错误）</strong>：没有拒绝 错误的零假设。<br><strong>p值</strong>：当零假设正确时，得到的观测值的数据 或 更极端的数据 的概率。</p>
<p>p值如此之小，以至于几乎不可能在零假设正确时，出现目前的观测数据时，我们就拒绝零假设。p值越小，拒绝零假设的理由就越充分。<br>p值告诉我们，在某总体的许多样本中，某一类数据出现的经常程度。<br>p值是能拒绝零假设的最小的显著水平。</p>
<p><strong>统计显著</strong>：如果零假设被拒绝，就可以说样本结果是统计显著的。一般就是，存在差异的。</p>
<p><strong><em>例子：样本均值之差  t变量。</em></strong><br>得到样本均值差大于等于1.3的概率是不能被直接计算出来的，但t大于等于4.25的概率是能够被计算出来的。<br>如果两个总体均值之差等于0，从均值相等的两个总体中，分别抽取100000个样本，组成100000个样本，才有可能碰到一次样本均值相差1.3以上的情况。即在总体均值相等的情况下，样本均值差异有这么大是一件很少见的事情。</p>
<p>在考虑两个样本均值之差时，t的自由度等于两个样本中总的观测个数减去2。如果自由度很大，几百上千，则可以用标准正态z变量来代替t变量。</p>
<p><strong>显著水平α</strong>：是抽样所得的数据，拒绝了本来是正确的零假设的概率。即第一类错误的概率。<br>在收集数据之前，确定分布，确定好小概率来构造一个区间；当样本数据落入这个区间时，就拒绝零假设。这个小概率成为检验的显著水平（significant level），通常选0.05。<br>显著水平0.05的意思：在零假设正确的情况下，进行100次抽样，会有5次计算出的统计量，错误地拒绝零假设。<br>显著水平：总和为0.05，不论单边还是双边。如果是双边检验，显著水平两边的概率各为0.025，总和为0.05。</p>
<p><strong>临界值</strong>：显著水平，或者 显著水平/2 所对应的样本统计量。</p>
<p><strong>p值和显著水平都是 概率。</strong><br><strong>样本统计量和临界值 是同单位的，可能是均值，方差。</strong></p>
<p><strong>t变量</strong>：在含有一个或两个均值的假设检验中使用。<strong>小样本，需要用自由度n-1确定分布</strong><br><strong>Z变量</strong>：在含有一个或两个比例的假设检验中使用。<strong>大样本，不需要参数确定分布</strong></p>
<p><strong>可以这样利用假设检验和置信区间：</strong><br>如果假设检验，两个总体的统计量之差不为0；接下来可以计算差异的置信区间，来表示差异有多大。</p>
<p><strong>CAUTION！！！</strong><br><strong><em>一个统计显著（总体间的差别）的结果在实际中不一定真是一个显著结果（总体间的差别量）。在大样本中，大多结果都是统计显著的。因为现实生活中，不存在完全一样的两片叶子。</em></strong><br><strong><em>如果只是看统计上的显著性，而不注意实际显著性，我们对数据的分析就是不完全的。</em></strong></p>
<h2 id="变量间的关系"><a href="#变量间的关系" class="headerlink" title="变量间的关系"></a>变量间的关系</h2><p><strong>两个变量的4个问题</strong></p>
<ol>
<li>从数据来看，变量间有关系吗？</li>
<li>如果变量间有关系，这个关系有多强</li>
<li>是否不仅在样本中，而且在总体中也有这种关系</li>
<li>这个关系是因果关系，还是伪关系</li>
</ol>
<p>用一个变量的值 预测 另一个变量的值时，它们之间不必非得有因果关系。</p>
<p>在统计分析中，发现两个变量之间有关系，并不等于证明它们之间有因果关系。</p>
<p><strong><em>自变量（independent variable）：解释变量（explanatory variable），预测变量</em></strong><br><strong><em>因变量（dependent variable）：响应变量（response variable），结果变量，效标变量</em></strong></p>
<p><strong>变量分类</strong>：分类型变量（categorical），顺序型变量（rank），数量型变量（metric）。</p>
<p><strong>因果关系的三个注意点：</strong></p>
<ol>
<li>别的变量可能才是真正影响，当前研究的两个存在伪关系变量，的真正原因。</li>
<li>存在因果关系的两个变量，是有时间的先后的，即两个变量的关系是单向的。</li>
<li>现实中，经常存在多元因果关系。</li>
</ol>
<h3 id="两个分类变量的-chi-2-分析"><a href="#两个分类变量的-chi-2-分析" class="headerlink" title="两个分类变量的 $\chi^2$分析"></a>两个分类变量的 $\chi^2$分析</h3><p><strong>列联表（contingency table）</strong>：一个描述两个分类变量分布的频数表。列联表中的值是频数，或计数（count）。<br>研究列联表的一个主要目的是看这些变量是否相关。</p>
<h3 id="两个数值型变量的-回归分析与相关分析"><a href="#两个数值型变量的-回归分析与相关分析" class="headerlink" title="两个数值型变量的 回归分析与相关分析"></a>两个数值型变量的 回归分析与相关分析</h3><p><strong>回归分析（regression analysis）</strong>：描述一个或多个自变量的变化是如何影响因变量。<br><strong>相关分析（correlation）</strong>：描述两个数值变量间的关系强度。</p>
<p>回归分析，需要明确自变量和因变量。<br>相关分析，并不需要明确两个变量中，哪个是自变量，哪个是因变量。</p>
<p><strong>回归分析</strong><br>总平方和 = 残差平方和 + 回归平方和<br>总平方和：因变量 和 因变量的平均值 的残差平方和。<br>回归平方和：回归线 和 因变量的平均值 的残差平方和。<br>残差平方和：因变量 和 回归线 的残差平方和。</p>
<p>总平方和（TSS） $=\sum(y_i-\overline y)^2$<br>回归平方和（RegrSS）$=\sum(a+bx_i-y)^2$<br>残差平方和（RSS） $=\sum((y_i-a-bx_i )^2$<br>$r^2=\frac{RegrSS}{TSS}$</p>
<p>R2：回归方程解释了因变量的变化程度。<br>T：回归方程的系数显著性水平。<br>F：回归方程的线性显著水平。</p>
<p>回归平方和 所占 总平方和的比例 = 相关系数^2</p>
<p>相关系数不仅度量了点到回归直线有多近，而且还度量了x和y的值有多分散。</p>
<h3 id="一个分类变量和一个数值变量"><a href="#一个分类变量和一个数值变量" class="headerlink" title="一个分类变量和一个数值变量"></a>一个分类变量和一个数值变量</h3><p><strong>自变量：两个取值的分类变量；    因变量：数值变量。</strong><br>此时自变量可以转化为虚拟变量。<br>虚拟变量（dummy variable）：将第一个类转化为0，第二个类转化为1。用于回归时计算ols。<br>当类别数大于2时，需要转化为独热码的形式，来进行回归。</p>
<p>用相关系数r或者回归系数b来计算t-值。进行假设检验，零假设为r为0，或者b为0，即变量间不相关。如果得到的p值是显著的，则拒绝零假设（变量间不相关）。</p>
<p><strong>自变量：数值变量；    因变量：两个取值的分类变变量</strong><br>还是把类别转化为0和1。所有的样例都在y=0和y=1这两条水平线上。<br>此时，拟合一条s型曲线，而不是直线，来拟合数据。即logistic回归。<br>其实，从根本上来说，是一种广义线性回归，对数几率回归。</p>
<h3 id="方差分析-F检验"><a href="#方差分析-F检验" class="headerlink" title="方差分析 F检验"></a>方差分析 F检验</h3><p>方差分析（analysis of variance，anova）：研究分类型自变量 对 数量型因变量 的影响。<br>方差分析：是用来对比 因变量 在不同组中的平均值 的统计方法。</p>
<p>更适合的名字，应该是均值分析：先根据自变量分组，再求出每一组的因变量的平均值，看因变量的均值在自变量所定义的组之间是否不同。虽然我们感兴趣的是均值，但在判断均值之间是否有差异时要借助于方差。</p>
<ol>
<li><strong>计算平方和</strong><br>分类自变量的平方和 =$\sum n_i(\overline {y_i} -\overline y)^2$ ，$n_i$表示第 i 组的个数<br>残差平方和 =$\sum \sum (y_{ij}-\overline{y_i})^2$， $\overline {y_i}$表示第 i 组的平均值<br>总平方和 =$\sum \sum (y_{ij}-\overline y)^2$<br>$R^2$=分类自变量的平方和 / 总平方和</li>
<li><strong>确定自由度</strong><br>分类自变量的自由度 = k-1<br>残差的自由度 = n-k<br>总自由度 = n-1</li>
<li><strong>计算均方误差</strong><br>分类自变量的均方 = 分类自变量的平方和 / (k-1)<br>残差的均方 = 残差平方和 / (n-k)</li>
<li><strong>得到F值</strong><br>F = 分类自变量的均方 / 残差的均方<br>自由度为k-1和n-k</li>
</ol>
<p><strong>为什么这种分析成为方差分析？</strong><br>效应使用平方和计算的，计算方差的分子也是平方和。在计算样本方差时，用平方和除以自由度n-1。而我们用平方和除以它们各自的自由度得到均方时，得到方差。我们实际上是用对比方差的办法来对比均值，得到F值。<br>方差分析是基于 计算因变量 在按照自变量的各类的均值 之间的差异程度 和 每一类中观测值的差异程度。</p>
<p><strong><em>例子</em></strong><br>在实验中，我们常把自变量叫做处理变量，把因变量叫做响应变量。<br>Eg.在农业实验中，处理变量可能是分别用在一块玉米地里的不同类型的肥料，而响应变量则是由不同肥料所得的产量。<br>地区变量的效应：<br>（组均值 - 总均值）^2<br>残差变量的效应：残差平方和<br>（观测 – 组均值）^2<br>地区变量和残差变量的总效应：总平方和<br>（观测 – 总均值）^2<br>F值就是为了比较自变量和残差变量的效应。<br>在计算中，我们比较的不是平方和，而是平方和除以它们各自的自由度</p>


                <hr>

                

                <ul class="pager">
                    
                        <li class="previous">
                            <a href="/2016/09/04/大数据与空间限制/" data-toggle="tooltip" data-placement="top" title="大数据与空间限制">&larr; Previous Post</a>
                        </li>
                    
                    
                        <li class="next">
                            <a href="/2016/09/02/奇异值分解/" data-toggle="tooltip" data-placement="top" title="奇异值分解">Next Post &rarr;</a>
                        </li>
                    
                </ul>

                

                
                <!-- disqus 评论框 start -->
                <div class="comment">
                    <div id="disqus_thread" class="disqus-thread"></div>
                </div>
                <!-- disqus 评论框 end -->
                

            </div>
    <!-- Side Catalog Container -->
        

    <!-- Sidebar Container -->

            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                

                <!-- Friends Blog -->
                
            </div>

        </div>
    </div>
</article>




<!-- disqus 公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = "hexo-theme-huxblog";
    var disqus_identifier = "/2016/09/03/统计总结/";
    var disqus_url = "/2016/09/03/统计总结/";

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<!-- disqus 公共JS代码 end -->




<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("http://cdn.bootcss.com/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'always',
          placement: 'right',
          icon: '#'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>
<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>



    <!-- Footer -->
    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                
                
                

                

                

                

                

                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; ZhengYang&#39;s Blog 2016 
                    <br>
		Driver - <a href="https://hexo.io/">Hexo</a> | 
                    Theme - <a href="https://github.com/Kaijun/hexo-theme-huxblog">Hux</a> 
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js"></script>

<!-- Custom Theme JavaScript -->
<script src="/js/hux-blog.min.js"></script>


<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- 
     Because of the native support for backtick-style fenced code blocks 
     right within the Markdown is landed in Github Pages, 
     From V1.6, There is no need for Highlight.js, 
     so Huxblog drops it officially.

     - https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0  
     - https://help.github.com/articles/creating-and-highlighting-code-blocks/    
-->
<!--
    <script>
        async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
            hljs.initHighlightingOnLoad();
        })
    </script>
    <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">
-->


<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("http://cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->


<script>
    // dynamic User by Hux
    var _gaId = 'UA-49627206-1';
    var _gaDomain = 'zhengyangcs.github.io';

    // Originial
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', _gaId, _gaDomain);
    ga('send', 'pageview');
</script>




<!-- Baidu Tongji -->

<script>
    // dynamic User by Hux
    var _baId = '4cc1f2d8f3067386cc5cdb626a202900';

    // Originial
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?" + _baId;
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
</script>


<!-- Side Catalog -->





<!-- Image to hack wechat -->
<img src="/img/icon_wechat.png" width="0" height="0" />
<!-- Migrate from head to bottom, no longer block render and still work --><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->

</body>

</html>
